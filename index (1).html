<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For Himanshu ðŸ’—</title>

<link href="https://fonts.googleapis.com/css2?family=Italianno&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  height:100vh;
  background:radial-gradient(circle at top,#1b2735,#05070d);
  overflow:hidden;
  display:flex;
  justify-content:center;
  align-items:center;
  color:white;
  font-family:'Italianno',cursive;
}

.container{text-align:center;}

/* HEART */
.heart{
  width:80px;height:80px;
  background:#e60026;
  position:relative;
  transform:rotate(-45deg);
  margin:auto;
  cursor:pointer;
  box-shadow:0 0 25px rgba(255,60,90,.9);
  animation:beat 1.4s infinite;
}
.heart::before,.heart::after{
  content:"";
  width:80px;height:80px;
  background:#e60026;
  border-radius:50%;
  position:absolute;
}
.heart::before{top:-40px;left:0}
.heart::after{left:40px;top:0}

@keyframes beat{
  50%{transform:rotate(-45deg) scale(1.12)}
}

/* TEXT */
.text{
  margin-top:28px;
  font-size:30px;
  opacity:0;
  transition:opacity 1.6s ease;
}
.show{opacity:1}
.main-line{font-size:48px}
.subtext{
  font-size:34px;
  opacity:0;
  transition:opacity 1.6s ease;
}

/* CAKE */
.cake{display:none;margin-top:25px}
.layer{
  width:200px;height:45px;
  background:#8fd3ff;
  border-radius:14px;
  margin:6px auto;
}
.layer.mid{
  background:#6fbfff;
  font-family:'Montserrat',sans-serif;
  color:#083a6b;
  line-height:45px;
}
.layer.top{width:150px;background:#a7ddff}
.face{font-size:22px;margin-top:-18px}

/* CANDLE */
.candle{
  width:8px;height:35px;
  background:white;
  margin:auto;
  cursor:pointer;
  position:relative;
}
.flame{
  width:12px;height:12px;
  background:orange;
  border-radius:50%;
  position:absolute;
  top:-14px;left:-2px;
  animation:flicker .8s infinite;
}
@keyframes flicker{50%{transform:scale(1.3);opacity:.7}}

/* SMOKE */
.smoke{
  position:absolute;
  width:14px;height:14px;
  background:rgba(220,220,220,.7);
  border-radius:50%;
  top:-5px;left:-3px;
  animation:smoke 2.5s forwards;
}
@keyframes smoke{
  to{transform:translateY(-45px) scale(1.6);opacity:0}
}

/* CONFETTI */
.confetti{
  position:fixed;
  top:-10px;
  width:6px;height:10px;
  background:gold;
  animation:confettiFall linear forwards;
}
@keyframes confettiFall{
  to{transform:translateY(110vh) rotate(360deg)}
}

/* FINAL TEXT */
.final-line{
  font-size:46px;
  margin-top:18px;
  opacity:0;
  transition:opacity 1.6s ease;
}
</style>
</head>

<body>

<div class="container">

<div class="heart" id="heart" onclick="nextStep()"></div>
<div id="message" class="text"></div>

<div class="cake" id="cake">
  <div class="candle" id="candle" onclick="blow()">
    <div class="flame" id="flame"></div>
  </div>

  <div class="layer top"></div>
  <div class="layer mid">Bestie ðŸ’—</div>
  <div class="layer"></div>
  <div class="face">^_^</div>

  <div style="font-family:Montserrat;font-weight:bold;">
    Make a wish & blow it ðŸ’¨
  </div>
</div>

<div id="love" class="final-line">I love you ðŸ’—</div>
<div id="miss" class="final-line">I miss us together</div>

<audio id="song" src="song.mp3"></audio>

</div>

<script>
let step=0;

function nextStep(){
  const msg=document.getElementById("message");

  if(step===0){
    msg.innerHTML="Tried something newâ€¦<br>just for you.";
    msg.classList.add("show");
    step++;
  }
  else if(step===1){
    msg.innerHTML=
    `<span class="main-line">Happy Birthday Himanshu ðŸ’—</span><br>
     <span id="fav" class="subtext">my all-time favorite person</span>`;
    setTimeout(()=>fav.style.opacity=1,1200);
    step++;
  }
  else if(step===2){
    heart.style.display="none";
    msg.style.display="none";
    cake.style.display="block";
    step++;
  }
}

function blow(){
  flame.style.display="none";
  song.play();

  for(let i=0;i<3;i++){
    let s=document.createElement("div");
    s.className="smoke";
    candle.appendChild(s);
  }

  for(let i=0;i<60;i++){
    let c=document.createElement("div");
    c.className="confetti";
    c.style.left=Math.random()*100+"vw";
    c.style.animationDuration=(3+Math.random()*2)+"s";
    document.body.appendChild(c);
  }

  setTimeout(()=>love.style.opacity=1,1200);
  setTimeout(()=>miss.style.opacity=1,2600);
}
</script>

</body>
</html>